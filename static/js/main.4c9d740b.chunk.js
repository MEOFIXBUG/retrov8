(this.webpackJsonpretrov8=this.webpackJsonpretrov8||[]).push([[0],{104:function(e,t,n){},105:function(e,t,n){"use strict";n.r(t);var r=n(2),a=(n(90),n(91),n(92),n(0)),c=n.n(a),s=n(12),i=n.n(s),o=(n(97),n(21)),u=n(22),l=n(37),d=n(36),p=n(24),b=n(13),h=n(6),j=n.n(h),m=n(8);function f(){return x.apply(this,arguments)}function x(){return(x=Object(m.a)(j.a.mark((function e(){var t,n,r,a,c=arguments;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:"",n=c.length>1&&void 0!==c[1]?c[1]:{},r=c.length>2&&void 0!==c[2]?c[2]:{},e.next=5,fetch(t,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:r,redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(n)});case 5:return a=e.sent,e.abrupt("return",a.json());case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){var e=localStorage.getItem("token");if(Boolean(e)){var t=JSON.parse(e);return new Headers({Authorization:"Bearer "+t,"Content-Type":"application/json;charset=utf-8"})}return{}}var v="https://retrov8.herokuapp.com/api/users/",g=new(function(){function e(){Object(o.a)(this,e)}return Object(u.a)(e,[{key:"login",value:function(e,t){return f(v+"login",{Username:e,Password:t},{"Content-Type":"application/json"}).then((function(e){return e.data.token&&localStorage.setItem("token",JSON.stringify(e.data.token)),e.data}))}},{key:"logout",value:function(){localStorage.removeItem("token")}},{key:"register",value:function(){var e=Object(m.a)(j.a.mark((function e(t,n,r){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(v+"register",{Username:t,Email:n,Password:r},{"Content-Type":"application/json"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"getCurrentUser",value:function(){return JSON.parse(localStorage.getItem("token"))}},{key:"auth",value:function(){var e=Object(m.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(v+"auth",{headers:O()});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}()),y=n(71),w=n(72),k=n.n(w),N=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={email:"",password:"",redirect:!1,authError:!1,isLoading:!1,location:{}},e.handleEmailChange=function(t){e.setState({email:t.target.value})},e.handlePwdChange=function(t){e.setState({password:t.target.value})},e.handleSubmit=function(t){t.preventDefault(),e.setState({isLoading:!0}),g.login(e.state.email,e.state.password).then((function(){e.setState({redirect:!0,isLoading:!1}),localStorage.setItem("isLoggedIn",!0)}),(function(t){e.setState({authError:!0,isLoading:!1})}))},e.responseGoogle=function(t){t.profileObj;g.login(t.profileObj.email,t.profileObj.googleId).then((function(){e.setState({redirect:!0,isLoading:!1}),localStorage.setItem("isLoggedIn",!0)}),function(){var n=Object(m.a)(j.a.mark((function n(r){return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,g.register(t.profileObj.email.split("@")[0],t.profileObj.email,t.profileObj.googleId);case 2:n.sent.success?g.login(t.profileObj.email,t.profileObj.googleId).then((function(){e.setState({redirect:!0,isLoading:!1}),localStorage.setItem("isLoggedIn",!0)}),(function(t){e.setState({authError:!0,isLoading:!1})})):e.setState({authError:!0,isLoading:!1});case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())},e.responseFacebook=function(t){console.log(t),g.login(t.email,t.id).then((function(){e.setState({redirect:!0,isLoading:!1}),localStorage.setItem("isLoggedIn",!0)}),function(){var n=Object(m.a)(j.a.mark((function n(r){return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,g.register(t.email.split("@")[0],t.email,t.id);case 2:n.sent.success?g.login(t.email,t.id).then((function(){e.setState({redirect:!0,isLoading:!1}),localStorage.setItem("isLoggedIn",!0)}),(function(t){e.setState({authError:!0,isLoading:!1})})):e.setState({authError:!0,isLoading:!1});case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())},e.componentClicked=function(){console.log("response")},e.renderRedirect=function(){if(e.state.redirect)return Object(r.jsx)(b.a,{to:"/myboard"})},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(m.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.auth();case 2:return t=e.sent,e.next=5,t.json();case 5:e.sent.data&&(window.location.href="/myboard");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.isLoading;return Object(r.jsxs)("div",{className:"container",children:[Object(r.jsxs)("div",{className:"card card-login mx-auto mt-5",children:[Object(r.jsx)("div",{className:"card-header",children:"Login"}),Object(r.jsx)("div",{className:"text-center"}),Object(r.jsxs)("div",{className:"card-body",children:[Object(r.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(r.jsx)("div",{className:"form-group",children:Object(r.jsxs)("div",{className:"form-label-group",children:[Object(r.jsx)("input",{className:"form-control "+(this.state.authError?"is-invalid":""),id:"inputEmail",placeholder:"Email address",type:"text",name:"email",onChange:this.handleEmailChange,autoFocus:!0,required:!0}),Object(r.jsx)("label",{htmlFor:"inputEmail",children:"Email address/Username"}),Object(r.jsx)("div",{className:"invalid-feedback",children:"Please provide a valid Email."})]})}),Object(r.jsx)("div",{className:"form-group",children:Object(r.jsxs)("div",{className:"form-label-group",children:[Object(r.jsx)("input",{type:"password",className:"form-control "+(this.state.authError?"is-invalid":""),id:"inputPassword",placeholder:"******",name:"password",onChange:this.handlePwdChange,required:!0}),Object(r.jsx)("label",{htmlFor:"inputPassword",children:"Password"}),Object(r.jsx)("div",{className:"invalid-feedback",children:"Please provide a valid Password."})]})}),Object(r.jsx)("div",{className:"form-group",children:Object(r.jsx)("div",{className:"checkbox",children:Object(r.jsxs)("label",{children:[Object(r.jsx)("input",{type:"checkbox",value:"remember-me"}),"Remember Password"]})})}),Object(r.jsx)("div",{className:"form-group",children:Object(r.jsxs)("button",{className:"btn btn-primary btn-block",type:"submit",disabled:!!this.state.isLoading,children:["Login \xa0\xa0\xa0",e?Object(r.jsx)("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}):Object(r.jsx)("span",{})]})}),Object(r.jsx)("div",{className:"form-group",children:Object(r.jsx)(y.GoogleLogin,{clientId:"411712365546-p28pbq0qrk077885iajap05pdo5ufg6k.apps.googleusercontent.com",buttonText:"Login",onSuccess:this.responseGoogle,onFailure:this.responseGoogle})}),Object(r.jsx)("div",{className:"form-group",children:Object(r.jsx)(k.a,{appId:"4657099037694433",fields:"name,email,picture",onClick:this.componentClicked,callback:this.responseFacebook})})]}),Object(r.jsxs)("div",{className:"text-center",children:[Object(r.jsx)(p.b,{className:"d-block small mt-3",to:"register",children:"Register an Account"}),Object(r.jsx)("a",{className:"d-block small",href:"forgot-password.html",children:"Forgot Password?"})]})]})]}),this.renderRedirect()]})}}]),n}(a.Component),S=n(159),C=n(46),E=n(144),B=n(153),L=n(27),P=n(19),I=n(154),J=n(147),U=n(152),D=n(151),F=n(149),T=n(163),A=n(150),R=n(58),z=n(75),G=n.n(z),W=n(74),q=n.n(W),H=n(73),M=n.n(H);function Y(){return $.apply(this,arguments)}function $(){return($=Object(m.a)(j.a.mark((function e(){var t,n,r,a=arguments;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"",n=a.length>1&&void 0!==a[1]?a[1]:{},e.next=4,fetch(t,{method:"DELETE",headers:n});case 4:return r=e.sent,e.abrupt("return",r.json());case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(){return Q.apply(this,arguments)}function Q(){return(Q=Object(m.a)(j.a.mark((function e(){var t,n,r,a,c=arguments;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:"",n=c.length>1&&void 0!==c[1]?c[1]:{},r=c.length>2&&void 0!==c[2]?c[2]:{},e.next=5,fetch(t,{method:"PUT",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:r,redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(n)});case 5:return a=e.sent,e.abrupt("return",a.json());case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var V="https://retrov8.herokuapp.com/api/boards/",X=new(function(){function e(){Object(o.a)(this,e)}return Object(u.a)(e,[{key:"getUserBoard",value:function(){var e=Object(m.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(V,{headers:O()});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getSharedBoard",value:function(){var e=Object(m.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(V+"shared",{headers:O()});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getJobsOfBoard",value:function(){var e=Object(m.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(V+t,{headers:O()});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getBoardByID",value:function(){var e=Object(m.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(V+"detail/"+t,{headers:O()});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"InsertBoard",value:function(){var e=Object(m.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(V,{ByName:t},O());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"DeleteBoard",value:function(){var e=Object(m.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y(V+t,O());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"UpdateBoard",value:function(){var e=Object(m.a)(j.a.mark((function e(t,n){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=O(),e.next=3,K(V+t,{ByName:n},r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"PublishBoard",value:function(){var e=Object(m.a)(j.a.mark((function e(t,n){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=O(),e.next=3,K(V+t,{IsPublished:n},r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}()),Z=Object(E.a)((function(e){return{root:{maxWidth:345},avatar:{backgroundColor:R.a[500]},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})}}}));function _(e){var t=Z(),n=Boolean(e.item.isPublished),a=new Intl.DateTimeFormat("en-GB",{year:"numeric",month:"long",day:"2-digit"});return Object(r.jsxs)(J.a,{className:t.root,children:[Object(r.jsx)(F.a,{avatar:Object(r.jsx)(T.a,{"aria-label":"recipe",className:t.avatar,children:e.item.byName.slice(0,1)}),action:Object(r.jsx)(A.a,{"aria-label":"remove",onClick:e.onDelClick,children:Object(r.jsx)(M.a,{})}),subheader:a.format(Date.parse(e.item.createdAt))}),Object(r.jsx)(p.b,{to:"/myboard/".concat(e.id),children:Object(r.jsx)(D.a,{children:Object(r.jsx)(C.a,{variant:"title",color:"textSecondary",component:"h2",children:e.item.byName})})}),Object(r.jsx)(U.a,{disableSpacing:!0,children:e.item.mine?Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(A.a,{"aria-label":"publish",onClick:e.onPublishClick,children:Object(r.jsx)(q.a,{color:n?"primary":""})})}):Object(r.jsx)(A.a,{className:t.expand,children:Object(r.jsx)(G.a,{color:"primary"})})})]})}var ee=Object(E.a)((function(e){return{cardGrid:{paddingTop:e.spacing(8),paddingBottom:e.spacing(8)}}}));function te(){var e=ee(),t=Object(a.useState)(null),n=Object(P.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)(!1),o=Object(P.a)(i,2),u=o[0],l=o[1],d=Object(a.useState)([]),p=Object(P.a)(d,2),b=p[0],h=p[1];Object(a.useEffect)((function(){function e(){return(e=Object(m.a)(j.a.mark((function e(){var t,n,r,a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.getUserBoard();case 2:return t=e.sent,e.next=5,X.getSharedBoard();case 5:return n=e.sent,e.next=8,t.json();case 8:return r=e.sent,e.next=11,n.json();case 11:a=e.sent,r.success||a.success?(l(!0),c=r.data.concat(a.data),h(c)):("Unauthorized"!=r.message&&"Unauthorized"!=a.message||(window.location.href="/"),l(!0),s(r.message+"\n"+a.message));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var f=function(){var e=Object(m.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.DeleteBoard(b[t].id);case 2:(n=e.sent).success?h(b.filter((function(e){return e.id!=b[t].id}))):"Unauthorized"==n.message?window.location.href="/":s(n.message);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(m.a)(j.a.mark((function e(t,n){var r,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.PublishBoard(t,n);case 2:(r=e.sent).success?((a=Object(L.a)(b)).forEach((function(e){e.id==t&&(e.isPublished=n)})),h(a),alert(n?"\u0110\xe3 chia s\u1ebb c\xf4ng khai":"\u0110\xe3 h\u1ee7y chia s\u1ebb")):"Unauthorized"==r.message?window.location.href="/":s(r.message);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return c?Object(r.jsxs)("div",{children:["Error: ",c]}):u?Object(r.jsx)(B.a,{className:e.cardGrid,maxWidth:"md",children:Object(r.jsx)(I.a,{container:!0,spacing:4,children:b.map((function(e,t){return Object(r.jsx)(I.a,{item:!0,xs:12,sm:6,md:4,children:(n=t,Object(r.jsx)(_,{id:b[n].id,item:b[n],onPublishClick:function(){return x(b[n].id,1-b[n].isPublished)},onDelClick:function(){return f(n)}},n))},e.id);var n}))})}):Object(r.jsx)("div",{children:"Loading..."})}var ne=n(155),re=n(160),ae=n(162),ce=n(158),se=n(157),ie=n(156);function oe(){var e=c.a.useState(!1),t=Object(P.a)(e,2),n=t[0],a=t[1],s=c.a.useState(""),i=Object(P.a)(s,2),o=i[0],u=i[1],l=Object(b.g)(),d=function(){a(!1)},p=function(){var e=Object(m.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.InsertBoard(o);case 2:(t=e.sent).success?(a(!1),l.push("/myboard/".concat(t.data))):"Unauthorized"==t.message?window.location.href="/":alert(t.message);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.jsxs)("div",{children:[Object(r.jsx)(ne.a,{variant:"outlined",color:"primary",onClick:function(){a(!0)},children:"+ Th\xeam m\u1edbi"}),Object(r.jsxs)(ae.a,{open:n,onClose:d,"aria-labelledby":"form-dialog-title",children:[Object(r.jsx)(ie.a,{id:"form-dialog-title",children:"Add new one"}),Object(r.jsx)(se.a,{children:Object(r.jsx)(re.a,{autoFocus:!0,margin:"dense",label:"Name Board",type:"text",name:"boardname",onChange:function(e){u(e.target.value)},fullWidth:!0})}),Object(r.jsxs)(ce.a,{children:[Object(r.jsx)(ne.a,{onClick:d,color:"primary",children:"Cancel"}),Object(r.jsx)(ne.a,{onClick:p,color:"primary",children:"Add"})]})]})]})}var ue=Object(E.a)((function(e){return{heroContent:{backgroundColor:e.palette.background.paper,padding:e.spacing(8,0,6)},footer:{backgroundColor:e.palette.background.paper,padding:e.spacing(6)},itemRight:{float:"right",position:"relative",transform:"translateY(-50%)"}}}));function le(){var e=ue();return Object(r.jsxs)(c.a.Fragment,{children:[Object(r.jsx)(S.a,{}),Object(r.jsxs)("main",{children:[Object(r.jsxs)("div",{className:e.heroContent,children:[Object(r.jsx)(ne.a,{onClick:function(){g.logout(),window.location.href="/"},variant:"contained",color:"secondary",className:e.itemRight,children:"Logout"}),Object(r.jsxs)(B.a,{maxWidth:"sm",justifyContent:"center",children:[Object(r.jsx)(C.a,{component:"h1",variant:"h2",align:"center",color:"textPrimary",gutterBottom:!0,children:"My Board"}),Object(r.jsx)(oe,{})]})]}),Object(r.jsx)(te,{children:" "})]}),Object(r.jsx)("footer",{className:e.footer})]})}n(104);var de=Object(E.a)((function(e){return{relativeStyle:{position:"relative"},textareStyle:{width:"100%",display:"flex",flexDirection:"column",margin:0,padding:0},buttonStyle:{position:"absolute",bottom:15,right:10}}}));var pe=function(e){var t=c.a.useState(e.item.byName?e.item.byName:""),n=Object(P.a)(t,2),a=n[0],s=n[1],i=de();return Object(r.jsxs)("div",{className:"BoardItem card j"+e.item.type,children:[Object(r.jsx)("br",{}),Object(r.jsxs)("div",{className:i.relativeStyle,children:[Object(r.jsx)("textarea",{className:i.textareStyle,placeholder:"Enter Text Here",value:a,readOnly:!e.item.isNew,onChange:function(e){s(e.target.value)}}),e.item.isNew?Object(r.jsx)(ne.a,{onClick:function(){return e.addJob(a,e.item.isNew)},className:i.buttonStyle,variant:"contained",color:"primary",children:e.item.id?"Edit":"Add"}):Object(r.jsx)(r.Fragment,{})]}),Object(r.jsx)("br",{}),Object(r.jsxs)("div",{className:"FunctionNav",children:[e.item.isNew?Object(r.jsx)(r.Fragment,{}):Object(r.jsxs)("button",{onClick:function(){return e.handleEdit(e.item.id)},children:[Object(r.jsx)("i",{className:"far fa-edit",title:"Edit"}),e.dislikesCount]}),Object(r.jsx)("button",{onClick:function(){return e.deleteJob(e.item.id,e.item.isNew)},children:Object(r.jsx)("i",{className:"far fa-trash-alt",title:"Delete"})})]})]})};var be=function(e){return Object(r.jsxs)("div",{className:1===e.toggle?"row":"col",children:[Object(r.jsxs)("div",{className:(1===e.toggle?" Rotate-1":"").toString(),children:[Object(r.jsx)("h2",{children:e.type.byName}),Object(r.jsx)("button",{type:"button",className:"addButton",onClick:function(){return e.CreateCard(e.type.id)},children:"+"})]}),e.Card.map((function(t){return Object(r.jsx)(pe,{item:t,addJob:e.AddJob,deleteJob:e.HandleDelte,handleEdit:e.HandleEdit})}))]})},he="https://retrov8.herokuapp.com/api/jobs/",je=new(function(){function e(){Object(o.a)(this,e)}return Object(u.a)(e,[{key:"InsertJob",value:function(){var e=Object(m.a)(j.a.mark((function e(t,n,r){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=O(),e.next=3,f(he+"ofboard/"+r,{ByName:t,Type:n},a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"UpdateJob",value:function(){var e=Object(m.a)(j.a.mark((function e(t,n,r){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=O(),e.next=3,K(he+t,{ByName:n,Type:r},a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"DeleteJob",value:function(){var e=Object(m.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y(he+t,O());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}()),me=n(76),fe=n.n(me),xe=Object(E.a)((function(e){return{cardGrid:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},textareStyle:{width:"100%",display:"flex",flexDirection:"column",margin:0,padding:0}}}));function Oe(e){var t=xe(),n=Object(a.useState)([]),c=Object(P.a)(n,2),s=c[0],i=c[1],o=Object(a.useState)(""),u=Object(P.a)(o,2),l=u[0],d=u[1],p=Object(a.useState)(null),b=Object(P.a)(p,2),h=b[0],f=b[1],x=Object(a.useState)(!1),O=Object(P.a)(x,2),v=O[0],g=O[1],y=Object(a.useState)(1),w=Object(P.a)(y,2),k=w[0],N=w[1];Object(a.useEffect)((function(){function t(){return(t=Object(m.a)(j.a.mark((function t(){var n,r,a,c,s;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,X.getBoardByID(e.id);case 2:return n=t.sent,t.next=5,n.json();case 5:return(r=t.sent).success?d(r.data.byName):"Unauthorized"==r.message?window.location.href="/":f(r.message),t.next=9,X.getJobsOfBoard(e.id);case 9:return a=t.sent,t.next=12,a.json();case 12:(c=t.sent).success?(g(!0),(s=Object(L.a)(c.data)).forEach((function(e){e.isNew=0})),i(s)):(g(!0),f(c.message));case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]);var S=function(e){var t=Object(L.a)(s).filter((function(t){return t.type==e.id}));return Object(r.jsx)("div",{className:"text-center",children:Object(r.jsx)(be,{type:e,Card:t,CreateCard:function(){return C(e.id)},AddJob:function(e,t){return E(e,t)},HandleEdit:function(e){return U(e)},HandleDelte:function(e,t){return J(e,t)}})})},C=function(e){var t=[].concat(Object(L.a)(s),[{type:e,isNew:k,likes:0,dislikes:0}]);N(k+1),i(t)},E=function(){var t=Object(m.a)(j.a.mark((function t(n,r){var a,c,o,u,l,d;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=Object(L.a)(s),c={},a.forEach((function(e){e.isNew==r&&(e.byName=n,e.isNew=0,c=e)})),o={},void 0!==c.id){t.next=10;break}return t.next=7,je.InsertJob(c.byName,c.type,e.id);case 7:o=t.sent,t.next=13;break;case 10:return t.next=12,je.UpdateJob(c.id,c.byName,c.type);case 12:o=t.sent;case 13:if(!o.success){t.next=25;break}return t.next=16,X.getJobsOfBoard(e.id);case 16:return u=t.sent,t.next=19,u.json();case 19:l=t.sent,(d=Object(L.a)(l.data)).forEach((function(e){e.isNew=0})),i(d),t.next=26;break;case 25:"Unauthorized"==o.message?window.location.href="/":f(o.message);case 26:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),J=function(){var e=Object(m.a)(j.a.mark((function e(t,n){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t){e.next=4;break}i(s.filter((function(e){return e.isNew!=n}))),e.next=8;break;case 4:return e.next=6,je.DeleteJob(t);case 6:(r=e.sent).success?i(s.filter((function(e){return e.id!=t}))):"Unauthorized"==r.message?window.location.href="/":f(r.message);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),U=function(){var e=Object(m.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=Object(L.a)(s)).forEach((function(e){e.id==t&&(e.isNew=k)})),i(n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var t=Object(m.a)(j.a.mark((function t(){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,X.UpdateBoard(e.id,l);case 2:(n=t.sent).success?alert("successfully"):"Unauthorized"==n.message?window.location.href="/":alert(n.message);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),F=function(){return Object(r.jsx)(A.a,{"aria-label":"edit",onClick:D,children:Object(r.jsx)(fe.a,{})})};return h?Object(r.jsxs)("div",{children:["Error: ",h]}):v?Object(r.jsxs)(B.a,{className:t.cardGrid,maxWidth:"md",children:[Object(r.jsx)(re.a,{id:"board-name",label:"Board-Name",value:l,onChange:function(e){d(e.target.value)},InputProps:{endAdornment:Object(r.jsx)(F,{})}}),Object(r.jsx)(I.a,{container:!0,spacing:2,children:[{id:1,byName:"Went well"},{id:11,byName:"To improve"},{id:21,byName:"Action items"}].map((function(e,t){return Object(r.jsx)(I.a,{item:!0,xs:12,sm:6,md:4,children:S(e)},e)}))})]}):Object(r.jsx)("div",{children:"Loading..."})}var ve=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={name:"",email:"",password:"",redirect:!1,authError:!1,isLoading:!1},e.handleEmailChange=function(t){e.setState({email:t.target.value})},e.handlePwdChange=function(t){e.setState({password:t.target.value})},e.handleNameChange=function(t){e.setState({name:t.target.value})},e.handleSubmit=function(){var t=Object(m.a)(j.a.mark((function t(n){var r,a,c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),e.setState({isLoading:!0}),r=e.state.email,a=e.state.password,c=e.state.name,t.next=7,g.register(c,r,a);case 7:t.sent.success&&(window.location.href="/");case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.renderRedirect=function(){if(e.state.redirect)return Object(r.jsx)(b.a,{to:"/"})},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.state.isLoading;return Object(r.jsxs)("div",{className:"container",children:[Object(r.jsxs)("div",{className:"card card-login mx-auto mt-5",children:[Object(r.jsx)("div",{className:"card-header",children:"Register"}),Object(r.jsxs)("div",{className:"card-body",children:[Object(r.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(r.jsx)("div",{className:"form-group",children:Object(r.jsxs)("div",{className:"form-label-group",children:[Object(r.jsx)("input",{type:"text",id:"inputName",className:"form-control",placeholder:"name",name:"name",onChange:this.handleNameChange,required:!0}),Object(r.jsx)("label",{htmlFor:"inputName",children:"Name"})]})}),Object(r.jsx)("div",{className:"form-group",children:Object(r.jsxs)("div",{className:"form-label-group",children:[Object(r.jsx)("input",{id:"inputEmail",className:"form-control "+(this.state.authError?"is-invalid":""),placeholder:"Email address",type:"text",name:"email",onChange:this.handleEmailChange,autoFocus:!0,required:!0}),Object(r.jsx)("label",{htmlFor:"inputEmail",children:"Email address"}),Object(r.jsx)("div",{className:"invalid-feedback",children:"Please provide a valid Email. or Email Exis"})]})}),Object(r.jsx)("div",{className:"form-group",children:Object(r.jsxs)("div",{className:"form-label-group",children:[Object(r.jsx)("input",{type:"password",className:"form-control",id:"inputPassword",placeholder:"******",name:"password",onChange:this.handlePwdChange,required:!0}),Object(r.jsx)("label",{htmlFor:"inputPassword",children:"Password"})]})}),Object(r.jsx)("div",{className:"form-group",children:Object(r.jsxs)("button",{className:"btn btn-primary btn-block",type:"submit",disabled:!!this.state.isLoading,children:["Register \xa0\xa0\xa0",e?Object(r.jsx)("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}):Object(r.jsx)("span",{})]})})]}),Object(r.jsxs)("div",{className:"text-center",children:[Object(r.jsx)(p.b,{className:"d-block small mt-3",to:"",children:"Login Your Account"}),Object(r.jsx)(p.b,{className:"d-block small",to:"#",children:"Forgot Password?"})]})]})]}),this.renderRedirect()]})}}]),n}(a.Component),ge=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(r.jsx)("div",{className:"App",children:Object(r.jsx)(p.a,{children:Object(r.jsxs)(b.d,{children:[Object(r.jsx)(b.b,{exact:!0,path:"/",component:N}),Object(r.jsx)(b.b,{exact:!0,path:"/myboard",component:le}),Object(r.jsx)(b.b,{path:"/myboard/:id",render:function(e){return Object(r.jsx)(Oe,{id:e.match.params.id})}}),Object(r.jsx)(b.b,{path:"/register",component:ve})]})})})}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(r.jsx)(ge,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},90:function(e,t,n){},91:function(e,t,n){},97:function(e,t,n){}},[[105,1,2]]]);
//# sourceMappingURL=main.4c9d740b.chunk.js.map